_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[33],{"HaE+":function(t,e,n){"use strict";function a(t,e,n,a,r,c,i){try{var o=t[c](i),s=o.value}catch(l){return void n(l)}o.done?e(s):Promise.resolve(s).then(a,r)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(r,c){var i=t.apply(e,n);function o(t){a(i,r,c,o,s,"next",t)}function s(t){a(i,r,c,o,s,"throw",t)}o(void 0)}))}}n.d(e,"a",(function(){return r}))},IDwr:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/posts/[id]",function(){return n("SA84")}])},SA84:function(t,e,n){"use strict";n.r(e);var a=n("o0o1"),r=n.n(a),c=n("HaE+"),i=n("1OyB"),o=n("vuIU"),s=n("JX7q"),l=n("Ji7U"),u=n("md7G"),d=n("foSv"),j=n("rePB"),b=n("nKUr"),m=n("q1tI"),h=n("g4pe"),f=n.n(h),p=(n("YFqc"),n("CafY")),O=n("S7XH"),x=n("d0xl"),y=n("6xyR"),g=n("7vrA"),v=n("3Z9Z"),w=n("JI6e"),_=n("76ZC"),C=n.n(_),N=n("sZxp"),S=n.n(N),F=n("20a2"),k=n.n(F),I=n("FGyW"),R=n("QojX"),D=n("cWnB"),P=n("T/rR"),B=n("ma3e"),E=n("KYPV"),G=n("UGp+");function q(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(d.a)(t);if(e){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var T=G.b({name:G.c().required(),email:G.c().email().required(),body:G.c().required()}),K=function(t){Object(l.a)(n,t);var e=q(n);function n(t){var a;return Object(i.a)(this,n),a=e.call(this,t),Object(j.a)(Object(s.a)(a),"componentDidMount",(function(){var t=a.props.postID;a.setState({post_id:t,loading:!1})})),a.state={post_id:"",loading:!0},a}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:this.state.loading?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(S.a,{count:4,height:40,className:"mb-1"}),Object(b.jsx)(S.a,{width:100,height:40})]}):Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(y.a,{className:"mb-2",body:!0,children:[Object(b.jsx)("h5",{className:"mb-3",style:{fontWeight:"400"},children:"Tambah Komentar"}),Object(b.jsx)(E.a,{initialValues:{post_id:this.state.post_id,name:"",email:"",body:""},onSubmit:function(t,e){O.a.PostComment(t).then((function(t){1===t.status?(I.b.success("Komentar berhasil disimpan, menunggu persetujuan admin untuk ditampilkan",{position:"top-center"}),setTimeout((function(){k.a.reload()}),2e3)):I.b.warn("Gagal, periksa kembali",{position:"top-center"})})),setTimeout((function(){e.setSubmitting(!1)}),1e3)},validationSchema:T,children:function(t){var e=t.handleSubmit,n=t.handleChange,a=t.handleBlur,r=(t.setFieldValue,t.values),c=t.touched,i=t.errors,o=t.isSubmitting;return Object(b.jsxs)(R.a,{noValidate:!0,onSubmit:e,children:[Object(b.jsxs)(R.a.Group,{children:[Object(b.jsx)(R.a.Label,{children:"Nama"}),Object(b.jsx)(R.a.Control,{name:"name",placeholder:"Nama Anda",className:"form-control",onChange:n,onBlur:a,value:r.name,isInvalid:!!i.name&&c.name}),i.name&&c.name&&Object(b.jsx)(R.a.Control.Feedback,{type:"invalid",children:i.name})]}),Object(b.jsxs)(R.a.Group,{children:[Object(b.jsx)(R.a.Label,{children:"Email"}),Object(b.jsx)(R.a.Control,{type:"text",name:"email",placeholder:"Email",className:"form-control",onChange:n,onBlur:a,value:r.email,isInvalid:!!i.email&&c.email}),i.email&&c.email&&Object(b.jsx)(R.a.Control.Feedback,{type:"invalid",children:i.email})]}),Object(b.jsxs)(R.a.Group,{children:[Object(b.jsx)(R.a.Label,{children:"Komentar"}),Object(b.jsx)(R.a.Control,{as:"textarea",rows:"6",name:"body",placeholder:"",className:"form-control",onChange:n,onBlur:a,value:r.body,isInvalid:!!i.body&&c.body}),i.body&&c.body&&Object(b.jsx)(R.a.Control.Feedback,{type:"invalid",children:i.body})]}),Object(b.jsx)(D.a,{variant:"primary",type:"submit",disabled:o,children:o?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(P.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})," Memuat..."]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(B.h,{})," Simpan"]})})]})}})]})})})}}]),n}(m.Component);function J(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(d.a)(t);if(e){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var X=function(t){Object(l.a)(n,t);var e=J(n);function n(t){var a;return Object(i.a)(this,n),a=e.call(this,t),Object(j.a)(Object(s.a)(a),"componentDidMount",(function(){var t=a.props.id;a.setState({post_id:t}),O.a.GetBlogId(t).then((function(t){setTimeout((function(){return a.setState({id:t.data[0].id,title:t.data[0].title,body:t.data[0].body,image:t.data[0].post_image,date:t.data[0].created_at,category:t.data[0].category,user:t.data[0].user,loading:!1})}),100)})),O.a.GetCommentId(t).then((function(t){t.data.length>0?a.setState({Comments:t.data}):a.setState({error:"No Data Found"})})).catch((function(t){console.log(t.response)}))})),a.state={id:"",title:"",body:"",image:"",date:"",category:"",user:"",Comments:[],url:Object(x.a)(),loading:!0},a}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.title,n=t.body,a=t.image,r=t.date,c=t.category,i=t.user,o=t.url,s=this.state.Comments.map((function(t,e){return Object(b.jsx)(y.a,{className:"mb-1",body:!0,children:Object(b.jsxs)("h6",{className:"mb-0",children:[t.body," [by ",Object(b.jsx)("strong",{children:t.name}),"]"]})},e)}));return Object(b.jsxs)(p.a,{children:[Object(b.jsx)(f.a,{children:Object(b.jsxs)("title",{children:[e," - ",p.c]})}),Object(b.jsx)(g.a,{children:Object(b.jsx)("main",{className:"py-3",children:Object(b.jsx)(v.a,{children:Object(b.jsx)(w.a,{md:12,children:this.state.loading?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(S.a,{count:4,height:40,className:"mb-1"}),Object(b.jsx)(S.a,{width:100,height:40})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:e}),"Posted date: ",r," - Category: ",c," - By: ",i,Object(b.jsx)("hr",{}),a&&Object(b.jsx)("img",{src:o+a,className:"mb-3 img-fluid",alt:"gambar_"+e}),C()(n),Object(b.jsx)("hr",{}),Object(b.jsx)("h3",{children:"Komentar"}),s,Object(b.jsx)("hr",{}),Object(b.jsx)(K,{postID:this.state.post_id})]})})})})})]})}}],[{key:"getInitialProps",value:function(){var t=Object(c.a)(r.a.mark((function t(e){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.query,a=n.id,t.abrupt("return",{id:a});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),n}(m.Component);e.default=X},o0o1:function(t,e,n){t.exports=n("ls82")}},[["IDwr",0,2,4,1,3,5,6,7,8,12]]]);