_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[28],{JIoF:function(e,t,n){"use strict";n.r(t),function(e){var i=n("h4VS"),o=n("1OyB"),a=n("vuIU"),s=n("JX7q"),r=n("Ji7U"),c=n("md7G"),l=n("foSv"),d=n("rePB"),u=n("nKUr"),b=n("q1tI"),f=n("g4pe"),j=n.n(f),h=n("20a2"),m=n.n(h),p=n("YFqc"),x=n.n(p),g=(n("HuT5"),n("d0xl")),O=n("CafY"),w=n("S7XH"),S=n("FGyW"),v=n("QojX"),y=n("cWnB"),k=n("7vrA"),C=n("XWsC"),_=n("3Z9Z"),F=n("JI6e"),T=n("6xyR"),U=n("ma3e"),P=n("KYPV"),G=n("UGp+"),H=n("Y1ui"),N=n.n(H),I=n("d76Q"),R=n.n(I),D=n("vOnD"),z=n("baXo"),A=n.n(z);function B(){var e=Object(i.a)(["\n      padding: 10px;\n      display: block;\n      width: 100%;\n\n      p {\n        font-size: 14px;\n        font-weight: 400;\n        word-break: break-all;\n      }\n    "]);return B=function(){return e},e}function E(){var e=Object(i.a)(["\n      border-top-left-radius: 0;\n      border-bottom-left-radius: 0;\n      border-top-right-radius: 5px;\n      border-bottom-right-radius: 5px;\n      height: 34px;\n      width: 32px;\n      text-align: center;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    "]);return E=function(){return e},e}function L(){var e=Object(i.a)(["\n      font-size: 14px;\n      height: 34px;\n      width: 250px;\n      border-radius: 3px;\n      border-top-left-radius: 5px;\n      border-bottom-left-radius: 5px;\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 0;\n      border: 1px solid #e5e5e5;\n      padding: 0 32px 0 16px;\n      &:hover {\n        cursor: pointer;\n      }\n    "]);return L=function(){return e},e}function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Object(c.a)(this,n)}}var X={lines:13,length:20,width:10,radius:30,scale:.35,corners:1,color:"#fff",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"},q=G.b({}),V=function(t){Object(r.a)(i,t);var n=J(i);function i(e){var t;return Object(o.a)(this,i),t=n.call(this,e),Object(d.a)(Object(s.a)(t),"componentDidMount",(function(){w.a.GetSlideshow().then((function(e){e.data.length>0?setTimeout((function(){return t.setState({Slideshow:e.data,loading:!1})}),100):t.setState({error:"No Data Found",loading:!1})})).catch((function(e){console.log(e.response)}))})),t.state={Slideshow:[],url:Object(g.a)(),loading:!0},t}return Object(a.a)(i,[{key:"render",value:function(){var t=this,n=[{name:"ID",selector:"id",sortable:!0},,{name:"Slide",sortable:!0,cell:function(n){return Object(u.jsx)(u.Fragment,{children:null!=n.img_slide?Object(u.jsx)("img",{src:t.state.url+n.img_slide,width:"60",alt:"",onClick:function(){t.dialog.show({title:"Ganti Gambar Slide",body:[Object(u.jsx)(P.a,{initialValues:{id:n.id,foto:n.img_slide},onSubmit:function(e,t){w.a.PutSlideshowImage({id:e.id,foto:e.foto.name}).then((function(e){1===e.status&&(S.b.success("Data berhasil disimpan",{position:"top-center"}),setTimeout((function(){m.a.push("/admin/slideshow")}),2e3))})),w.a.PostFoto(e.foto,e.foto.name).then((function(e){console.log("img_ok")})),setTimeout((function(){t.setSubmitting(!0)}),1e3)},validationSchema:q,children:function(e){var i=e.handleSubmit,o=(e.handleChange,e.handleBlur),a=e.setFieldValue,s=(e.values,e.touched),r=e.errors,c=e.isSubmitting;return Object(u.jsxs)(v.a,{onSubmit:i,children:[Object(u.jsxs)(v.a.Group,{children:[Object(u.jsx)(v.a.Label,{children:"Gambar Slide"}),Object(u.jsx)("br",{}),Object(u.jsx)("img",{src:t.state.url+n.img_slide,className:"img-fluid",width:"200"})]}),Object(u.jsxs)(v.a.Group,{children:[Object(u.jsx)(v.a.Label,{htmlFor:"foto",children:"Upload Gambar"}),Object(u.jsx)(v.a.File,{className:"form-control",name:"foto",id:"foto",onChange:function(e){a("foto",e.currentTarget.files[0]),t.setState({fotoPreviewUrl:URL.createObjectURL(e.currentTarget.files[0])})},onBlur:o,isInvalid:!!r.foto&&s.foto,required:"required"}),r.foto&&s.foto&&Object(u.jsx)("div",{className:"error",children:r.foto}),t.state.fotoPreviewUrl?Object(u.jsx)("img",{src:t.state.fotoPreviewUrl,width:"200",alt:"",className:"mt-2 img-fluid"}):""]}),Object(u.jsxs)(y.a,{variant:"primary",type:"submit",disabled:c,children:[Object(u.jsx)(U.o,{})," Upload"]})]})}},n.id)],bsSize:"lg",actions:[A.a.CancelAction((function(){console.log("Cancel was clicked!")}))],onHide:function(e){e.hide(),console.log("closed by clicking background.")}})}}):Object(u.jsx)("img",{src:"".concat(e.env.BASE_PATH,"/images/no-image.png"),width:"60",alt:"",onClick:function(){t.dialog.show({title:"Ganti Gambar Slide",body:[Object(u.jsx)(P.a,{initialValues:{id:n.id,foto:n.img_slide},onSubmit:function(e,t){w.a.PutSlideshowImage({id:e.id,foto:e.foto.name}).then((function(e){1===e.status&&(S.b.success("Data berhasil disimpan",{position:"top-center"}),setTimeout((function(){m.a.push("/admin/slideshow")}),2e3))})),w.a.PostFoto(e.foto,e.foto.name).then((function(e){console.log("img_ok")})),setTimeout((function(){t.setSubmitting(!0)}),1e3)},validationSchema:q,children:function(n){var i=n.handleSubmit,o=(n.handleChange,n.handleBlur),a=n.setFieldValue,s=(n.values,n.touched),r=n.errors,c=n.isSubmitting;return Object(u.jsxs)(v.a,{onSubmit:i,children:[Object(u.jsxs)(v.a.Group,{children:[Object(u.jsx)(v.a.Label,{children:"Gambar Slide"}),Object(u.jsx)("br",{}),Object(u.jsx)("img",{src:"".concat(e.env.BASE_PATH,"/images/no-image.png"),className:"img-fluid",width:"200"})]}),Object(u.jsxs)(v.a.Group,{children:[Object(u.jsx)(v.a.Label,{htmlFor:"foto",children:"Upload Gambar"}),Object(u.jsx)(v.a.File,{className:"form-control",name:"foto",id:"foto",onChange:function(e){a("foto",e.currentTarget.files[0]),t.setState({fotoPreviewUrl:URL.createObjectURL(e.currentTarget.files[0])})},onBlur:o,isInvalid:!!r.foto&&s.foto,required:"required"}),r.foto&&s.foto&&Object(u.jsx)("div",{className:"error",children:r.foto}),t.state.fotoPreviewUrl?Object(u.jsx)("img",{src:t.state.fotoPreviewUrl,width:"200",alt:"",className:"mt-2 img-fluid"}):""]}),Object(u.jsxs)(y.a,{variant:"primary",type:"submit",disabled:c,children:[Object(u.jsx)(U.o,{})," Upload"]})]})}},n.id)],bsSize:"lg",actions:[A.a.CancelAction((function(){console.log("Cancel was clicked!")}))],onHide:function(e){e.hide(),console.log("closed by clicking background.")}})}})})}},{name:"Teks",selector:"text_slide",sortable:!0,cell:function(e){return Object(u.jsx)(u.Fragment,{children:e.text_slide})}},{name:"Aksi",sortable:!1,cell:function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x.a,{href:"/admin/slideshow/edit/"+e.id,passHref:!0,children:Object(u.jsx)(y.a,{size:"sm",title:"Edit",alt:"Edit",children:Object(u.jsx)(U.h,{})})}),"\xa0",Object(u.jsx)(y.a,{onClick:function(){t.dialog.show({title:"Konfirmasi",body:"Apakah anda yakin akan menghapus data ini?",bsSize:"lg",actions:[A.a.CancelAction((function(){console.log("Cancel was clicked!")})),A.a.OKAction((function(){w.a.DeleteSlideshow(e.id).then((function(e){1===e.status?(S.b.success("Hapus data berhasil",{position:"top-center"}),setTimeout((function(){m.a.reload()}),2e3)):console.log("gagal")}))}))],onHide:function(e){e.hide(),console.log("closed by clicking background.")}})},variant:"danger",size:"sm",title:"Hapus",alt:"Hapus",children:Object(u.jsx)(U.n,{})})]})}}],i={rows:{style:{fontSize:"1rem"}},headCells:{style:{fontSize:"1rem"}},cells:{style:{fontSize:"1rem"}}},o=D.default.input(L()),a=Object(D.default)(y.a)(E()),s=D.default.div(B()),r=function(e){var t=e.data;return Object(u.jsx)(s,{children:Object(u.jsxs)("p",{children:["Date Created: ",t.created_at,Object(u.jsx)("br",{}),"Date Updated: ",t.updated_at,Object(u.jsx)("br",{})]})})},c=function(e){var t=e.filterText,n=e.onFilter,i=e.onClear;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x.a,{href:"/admin/slideshow/create",passHref:!0,children:Object(u.jsx)(y.a,{variant:"primary",style:{position:"absolute",left:"0",marginLeft:"15px"},children:"Tambah Slideshow"})}),Object(u.jsx)(o,{id:"search",type:"text",placeholder:"Filter By Judul","aria-label":"Search Input",value:t,onChange:n}),Object(u.jsx)(a,{variant:"secondary",type:"button",onClick:i,children:"X"})]})},l=function(){var e=Object(b.useState)(""),o=e[0],a=e[1],s=Object(b.useState)(!1),l=s[0],d=s[1],f=t.state.Slideshow.filter((function(e){return e.text_slide&&e.text_slide.toLowerCase().includes(o.toLowerCase())})),j=Object(b.useMemo)((function(){return Object(u.jsx)(c,{onFilter:function(e){return a(e.target.value)},onClear:function(){o&&(d(!l),a(""))},filterText:o})}),[o,l]);return Object(u.jsx)(R.a,{title:"Semua Slideshow",columns:n,data:f,pagination:!0,paginationResetDefaultPage:l,subHeader:!0,subHeaderComponent:j,persistTableHead:!0,expandableRows:!0,expandOnRowClicked:!0,expandableRowsComponent:Object(u.jsx)(r,{}),customStyles:i})};return Object(u.jsxs)(O.a,{admin:!0,children:[Object(u.jsx)(j.a,{children:Object(u.jsxs)("title",{children:["Slideshow - ",O.c]})}),Object(u.jsxs)(k.a,{fluid:!0,children:[Object(u.jsxs)(C.a,{className:"my-3",children:[Object(u.jsx)(C.a.Item,{children:"Home"}),Object(u.jsx)(C.a.Item,{active:!0,children:"Slideshow"})]}),Object(u.jsx)(_.a,{children:Object(u.jsx)(F.a,{children:Object(u.jsx)(T.a,{body:!0,children:this.state.loading?Object(u.jsx)(N.a,{options:X,className:"spinner"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l,{}),Object(u.jsx)(A.a,{ref:function(e){t.dialog=e}})]})})})})]})]})}}]),i}(b.Component);t.default=V}.call(this,n("8oxB"))},sEYi:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/slideshow",function(){return n("JIoF")}])}},[["sEYi",1,2,4,0,3,5,6,7,8,10]]]);